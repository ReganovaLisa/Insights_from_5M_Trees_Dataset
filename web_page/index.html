<!DOCTYPE HTML>

<html>
	<head>
		<title>Main page</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/sankey.js"></script>
</script>

	<script>
    var d3v3 = window.d3;
    window.d3 = null;
	</script>



<script src="https://d3js.org/d3.v6.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.min.js"></script>
<script>
    var d3v6 = window.d3;
    window.d3 = null;
	</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script>
    var d3v356 = window.d3;
    window.d3 = null;
	</script>

	<script src="https://d3js.org/d3.v5.js"></script>
	<script src="https://d3js.org/d3-array.v2.min.js"></script> 





	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="logo">
							<span class="icon fa-gem"></span>
						</div>
						<div class="content">
							<div class="inner">
								<h1>A story that Trees tell us</h1>
								<p>This project aims to display a few data visualizations for Kaggle <a href="https://www.kaggle.com/datasets/mexwell/5m-trees-dataset/data">5M Trees Dataset</a>.</p>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#barplot"> Barplots </a></li>
								<li><a href="#alluvial">Alluvial</a></li>
								<li><a href="#timelines">Timelines</a></li>
								<li><a href="#t4">T4</a></li>
								<!--<li><a href="#elements">Elements</a></li>-->
							</ul>
						</nav>
					</header>

				
					<div id="main">

						
							<article id="barplot">
								<h2 class="major">Who counted the most trees?</h2>
								<p>  To gain insights into tree abundance across various cities in the United States, we can start by examining bar chart distributions of the twenty most frequently occurring tree species in each city.</p>

								<p style="display: inline;">City to show data from:</p>
								<select id="fileSelect" style="display: inline;">
									<!-- <option value="../data_raw/OverlandPark_Final_2022-06-18.csv">OverlandPark</option>
									<option value="../data_raw/Anaheim_Final_2022-06-18.csv">Anaheim</option>
									<option value="../data_raw/Worcester_Final_2022-06-18.csv">Worcester</option>
									<option value="../data_raw/Tampa_Final_2022-06-18.csv">Tampa</option> -->
									<option value="../data_raw/Albuquerque_Final_2022-06-18.csv">Albuquerque</option>
									<option value="../data_raw/Sacramento_Final_2022-06-18.csv">Sacramento</option>
									<option value="../data_raw/Stockton_Final_2022-06-18.csv">Stockton</option>
									<option value="../data_raw/SantaRosa_Final_2022-06-18.csv">SantaRosa</option>
								</select>
								
								<p><br>Order species by:
									<form>
									
										
										<div class="radio-item">
											<input type="radio" id="sortorder_tree_count" name="sortorder" value="tree_count" checked>
											<label for="sortorder_tree_count">Number of trees</label>
										</div>
										<div class="radio-item">
											<input type="radio" id="sortorder_tree_name" name="sortorder" value="tree_name" checked>
											<label for="sortorder_tree_name">Tree name</label>
										</div>
									</form>
									</p>
						
									<div class="plot_container">
										<div id="barContainer"></div>
										<script src="../comparing_categories/barplot_easy.js"></script>
									</div> 
						

									<h2>Comparison of biotopes in California cities</h2>
        <p>For consistency, we selected cities with a comparable number of records, typically ranging from 60,000 to 80,000 trees. Subsequently, we identified the five most prevalent tree species among the selected cities. This process involved normalizing the species distribution based on the total number of trees within each city. After that, we added up the corresponding values for all cities and selected the arguments of the five largest. </p>
        
        <div class="plot_container_narrow">
            <div id="my_dataviz"></div>
            <script src="../comparing_categories/stacked_barplot.js"></script>
        </div> 

        <p>Same as above, but in percent scale:</p>
        <div class="plot_container_narrow">
            <div id="my_dataviz_percent"></div>
            <script src="../comparing_categories/stacked_grouped_percent.js"></script>
		</div>
			<p>Now let's make grouping by 1 - city:</p>
			<div class="plot_container_narrow">
				<div id="my_dataviz_group"></div>
				<script src="../comparing_categories/stacked_grouped_barchart.js"></script>
			</div> 
			<p>2 - species:</p>
			<div class="plot_container_wide">
				<div id="my_dataviz_small"></div>
				<script src="../comparing_categories/small_multiple.js"></script>
			</div> 
			<h2>Tree species heatmap for most popular trees in California cities of similar size</h2>
			<div class="plot_container">
				<div id="heatmapContainer"></div>
				<script src="../comparing_categories/heatmap.js"></script>
			</div>
			<p>As we can see, the distribution of species exhibits significant variation even among geographically close cities situated within the same state!</p>
			
		


         
								</article>

						
							<article id="alluvial">
								<h2 class="major">Alluvial</h2>
								<p id="chart">
                                    <script src="../alluvial/alluvial_code.js"></script>
                                <p><a href="https://www.kwanlin.com/blog/series-visualization/alluvial-plot/#:~:text=An%20alluvial%20plot%20is%20a,stacked%20bars%20represent%20different%20categories.">An alluvial plot</a> is a way to show proportions of observations across different categories.
									Visually, an alluvial plot is made up of stacked bars, and between those bars are links.

									Each set of stacked bars represents a categorical field. The separations within the stacked bars represent different categories.
									
									These stacked bars are more precisely referred to as strata (singular, stratum), and the vertical stacked bar themselves are called axis.
									
									The links between the bars conveys the set of observations shared between one categorical field and the next.
									
								</p>
								<p>We selected three states sharing a similar latitude and providing access to oceans or straits, aiming to capture comparable biotopes. Our criteria included ensuring each state had a minimum of two documented cities, and we sought uniformity in the distribution of tree numbers across these cities. For a detailed insight into our city and tree species selection process, please refer to <a href="https://github.com/ReganovaLisa/Insights_from_5M_Trees_Dataset/blob/main/data_preparation/preprocessing_for_alluvial.ipynb">the corresponding repository</a>.</p>

								<p>	The selection of plant species involved a following approach. Initially, we calculated the percentage of each tree species within every city. Subsequently, we created a dictionary for all selected cities, where each plant's name served as a key, and the corresponding value represented the cumulative percentage across all cities. This dictionary was then sorted, and the top 15 plants, ranked by value. Finally, employing <a href="https://api.gbif.org/v1/">GBIF</a>, we determined the order and class of these selected plant species.</p>
							</article>

							<article id="timelines">
								<h2 class="major">Timelines and distributions</h2>
								<p id="">
                                    <form> 
									<div class="multipleSelection"> 
										<div class="selectBox" 
											onclick="showCheckboxes()"> 
											<select> 
												<option>Select options</option> 
											</select> 
											<div class="overSelect"></div> 
										</div> 

										<div id="checkBoxes"></div> 
									</div> 
									</form> 

						<script> 
						var show = true; 

						function showCheckboxes() { 
							var checkboxes =  
								document.getElementById("checkBoxes"); 

							if (show) { 
								checkboxes.style.display = "block"; 
								show = false; 
							} else { 
								checkboxes.style.display = "none"; 
								show = true; 
							} 
						} 
						</script> 

						<select id="selectButton"></select>

						<div id="my_dataviz2"></div>
						<p>Same as above, but in percent scale:</p>

						<div id="my_dataviz_line"></div>

						<script src="../timelines/radarchart.js"></script>	
						<script src="../timelines/line_plot.js"></script>
						<p> Smth</p>
						<div class="radarChart"></div>

						
						</article>

			</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; "Croissant & Macchiato": Aliaksandr Shcharbitski and Elizaveta Reganova.</p>
					</footer>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
            
	</body>
</html>
